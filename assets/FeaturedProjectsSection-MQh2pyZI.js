import{r as d,j as e,R as j}from"./vendor-react-lVC4Kowj.js";import{S as $}from"./SectionHeader-ZkHSAODI.js";import{F as w,u as N}from"./FadeInWhenVisible-C2ksJJGS.js";import{u as U,a as B}from"./spring-DfrkRlZe.js";import{a as H,p as h,d as V,B as T,c as O}from"./main-CDv6sIt1.js";import{L}from"./vendor-router-PtayaTq6.js";import{o as E}from"./vendor-icons-B8oiOBJv.js";import{u as z}from"./framer-Cz4ZsD71.js";import"./vendor-ui-utils--X5BZniO.js";import"./vendor-query-DUOCXZnE.js";function A(r,i,s,a){const o=r.videoUrl;return o?o.endsWith(".mp4")||o.endsWith(".webm")?e.jsx("video",{ref:a,src:o,autoPlay:i,muted:!0,loop:!0,playsInline:!0,preload:"metadata",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):e.jsx("iframe",{ref:a,src:`${o}?autoplay=1&mute=1&controls=0&loop=1&playlist=${o.split("/").pop()}&enablejsapi=1`,title:r.title,className:"w-full h-full object-cover scale-150",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}):e.jsx("img",{src:r.images[0],alt:r.title,width:640,height:400,loading:"lazy",decoding:"async",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",style:{willChange:"transform"}})}const F={xr:["vr-app-dev","mr-interfaces","data-analytics","mixed-reality-development"],websites:["web-development","ui-ux-design"],"mobile-apps":["mobile-app-development"]},k=d.memo(({project:r,index:i})=>{const s=d.useRef(null),a=d.useRef(null),o=O(),{ref:m,inView:p}=N({triggerOnce:!0,threshold:.1}),{ref:g,inView:C}=N({threshold:o?.2:.5,rootMargin:o?"0px":"-20% 0px -20% 0px",triggerOnce:!1}),M=d.useCallback(t=>{m(t),g(t)},[m,g]),I=d.useCallback(t=>{s.current=t},[]),u=z(),x=U({opacity:p?1:0,y:p?0:u?0:16,delay:u?0:i*60,config:{tension:320,friction:32},immediate:u}),c=!!r.videoUrl&&!u,f=c&&C,R=!0,P=!0;j.useEffect(()=>{if(!c)return;const t=s.current;if(!(t instanceof HTMLVideoElement))return;const n=()=>{const l=s.current;!(l instanceof HTMLVideoElement)||!f||l.paused&&l.readyState>=2&&l.play().catch(()=>{})};if(f){n();const l=()=>n(),y=()=>n(),v=()=>n();t.addEventListener("loadedmetadata",l),t.addEventListener("canplay",y),t.addEventListener("loadeddata",v);let b=0;return a.current=globalThis.setInterval(()=>{b++,n(),(b>15||!(s.current instanceof HTMLVideoElement)||!s.current.paused)&&a.current&&(clearInterval(a.current),a.current=null)},200),()=>{t.removeEventListener("loadedmetadata",l),t.removeEventListener("canplay",y),t.removeEventListener("loadeddata",v),a.current&&(clearInterval(a.current),a.current=null)}}else t.pause(),a.current&&(clearInterval(a.current),a.current=null)},[c,f]),j.useEffect(()=>{if(!c)return;const t=()=>{const n=s.current;n instanceof HTMLVideoElement&&document.hidden&&n.pause()};return document.addEventListener("visibilitychange",t),()=>document.removeEventListener("visibilitychange",t)},[c]);const S=A(r,P,R,I);return e.jsx(B.div,{ref:M,style:{opacity:x.opacity,transform:x.y.to(t=>`translate3d(0, ${t}px, 0)`),willChange:p?"opacity, transform":"auto"},className:"group relative h-full",children:e.jsxs(L,{to:`/projecten?project=${r.id}`,className:V("block h-full rounded-2xl overflow-hidden bg-primary border border-primary-foreground/15","transition-all duration-200 hover:shadow-xl hover:-translate-y-1 hover:shadow-primary/20 hover:border-primary-foreground/25","focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-primary"),children:[e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden",children:[S,e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/75 via-black/10 to-transparent"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-white/90 backdrop-blur-sm text-foreground rounded-full",children:r.client})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-lg font-bold text-primary-foreground mb-1 transition-colors",children:r.title}),e.jsx("p",{className:"text-sm text-primary-foreground/90 mb-4",children:r.tagline}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.techStack.slice(0,3).map(t=>e.jsx("span",{className:"px-2 py-1 text-xs bg-primary-foreground/15 text-primary-foreground rounded border border-primary-foreground/15",children:t},t)),r.techStack.length>3&&e.jsxs("span",{className:"px-2 py-1 text-xs bg-primary-foreground/15 text-primary-foreground rounded border border-primary-foreground/15",children:["+",r.techStack.length-3]})]})]}),e.jsx("div",{className:"absolute bottom-5 right-5 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(E,{className:"w-5 h-5 text-primary-foreground"})})]})})});k.displayName="ProjectCard";const te=()=>{const{selectedCategory:r}=H(),i=d.useMemo(()=>{if(!r)return h.slice(0,3);const s=F[r];return s?h.filter(o=>o.serviceId&&s.includes(o.serviceId)).slice(0,3):h.slice(0,3)},[r]);return!i||i.length===0?null:e.jsx("section",{id:"featured-projects",className:"bg-foreground relative",children:e.jsxs("div",{className:"container px-4 md:px-6 py-16 md:py-24",children:[e.jsx(w,{delay:.05,children:e.jsx($,{title:"Uitgelichte projecten",subtitle:"Bekijk een selectie van mijn werk in deze categorie.",titleClassName:"text-white",subtitleClassName:"text-white/70"})}),e.jsx("div",{className:V("grid",i.length===1&&"grid-cols-1 max-w-md mx-auto gap-4 md:gap-6",i.length===2&&"grid-cols-1 sm:grid-cols-2 max-w-3xl mx-auto gap-6 md:gap-10",i.length>=3&&"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6"),children:i.map((s,a)=>e.jsx(k,{project:s,index:a,categoryKey:r},`${r}-${s.id}`))}),e.jsx(w,{delay:.3,children:e.jsx("div",{className:"mt-10 text-center",children:e.jsx(T,{asChild:!0,size:"lg",children:e.jsxs(L,{to:"/projecten",className:"group",children:["Bekijk alle projecten",e.jsx(E,{className:"ml-2 w-4 h-4 transition-transform group-hover:translate-x-1"})]})})})})]})})};export{te as default};
