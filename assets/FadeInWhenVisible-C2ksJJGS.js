import{r as v,j}from"./vendor-react-lVC4Kowj.js";import{u as A,a as V}from"./spring-DfrkRlZe.js";import{u as F}from"./framer-Cz4ZsD71.js";var I=new Map,b=new WeakMap,E=0,T;function W(e){return e?(b.has(e)||(E+=1,b.set(e,E.toString())),b.get(e)):"0"}function _(e){return Object.keys(e).sort().filter(r=>e[r]!==void 0).map(r=>`${r}_${r==="root"?W(e.root):e[r]}`).toString()}function $(e){const r=_(e);let s=I.get(r);if(!s){const i=new Map;let c;const n=new IntersectionObserver(o=>{o.forEach(t=>{var u;const a=t.isIntersecting&&c.some(f=>t.intersectionRatio>=f);e.trackVisibility&&typeof t.isVisible>"u"&&(t.isVisible=a),(u=i.get(t.target))==null||u.forEach(f=>{f(a,t)})})},e);c=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),s={id:r,observer:n,elements:i},I.set(r,s)}return s}function B(e,r,s={},i=T){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const u=e.getBoundingClientRect();return r(i,{isIntersecting:i,target:e,intersectionRatio:typeof s.threshold=="number"?s.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:c,observer:n,elements:o}=$(s),t=o.get(e)||[];return o.has(e)||o.set(e,t),t.push(r),n.observe(e),function(){t.splice(t.indexOf(r),1),t.length===0&&(o.delete(e),n.unobserve(e)),o.size===0&&(n.disconnect(),I.delete(c))}}function C({threshold:e,delay:r,trackVisibility:s,rootMargin:i,root:c,triggerOnce:n,skip:o,initialInView:t,fallbackInView:u,onChange:a}={}){var f;const[l,O]=v.useState(null),y=v.useRef(a),h=v.useRef(t),[R,S]=v.useState({inView:!!t,entry:void 0});y.current=a,v.useEffect(()=>{if(h.current===void 0&&(h.current=t),o||!l)return;let g;return g=B(l,(p,x)=>{const M=h.current;h.current=p,!(M===void 0&&!p)&&(S({inView:p,entry:x}),y.current&&y.current(p,x),x.isIntersecting&&n&&g&&(g(),g=void 0))},{root:c,rootMargin:i,threshold:e,trackVisibility:s,delay:r},u),()=>{g&&g()}},[Array.isArray(e)?e.toString():e,l,c,i,n,o,s,u,r]);const m=(f=R.entry)==null?void 0:f.target,w=v.useRef(void 0);!l&&m&&!n&&!o&&w.current!==m&&(w.current=m,S({inView:!!t,entry:void 0}),h.current=t);const d=[O,R.inView,R.entry];return d.ref=d[0],d.inView=d[1],d.entry=d[2],d}const D=v.memo(function({children:r,delay:s=0,duration:i=250,className:c}){const n=F(),{ref:o,inView:t}=C({triggerOnce:!0,threshold:.1}),a=A({opacity:t?1:0,y:t?0:n?0:16,delay:n?0:s*1e3,config:{tension:300,friction:30,duration:n?0:i},immediate:n});return j.jsx(V.div,{ref:o,className:c,style:{opacity:a.opacity,transform:a.y.to(f=>`translate3d(0, ${f}px, 0)`),willChange:"opacity, transform"},children:r})});export{D as F,C as u};
